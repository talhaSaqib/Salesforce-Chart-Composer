"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.defaultOptions = exports.options = exports.printers = exports.parsers = exports.languages = void 0;
const comments_1 = require("./comments");
const parser_1 = __importDefault(require("./parser"));
const pragma_1 = require("./pragma");
const printer_1 = __importDefault(require("./printer"));
const util_1 = require("./util");
exports.languages = [
    {
        name: "Apex",
        parsers: ["apex"],
        extensions: [".cls", ".trigger"],
        linguistLanguageId: 17,
        vscodeLanguageIds: ["apex"],
    },
    {
        name: "Apex Anonymous",
        parsers: ["apex-anonymous"],
        extensions: [".apex"],
        linguistLanguageId: 17,
        vscodeLanguageIds: ["apex-anon"],
    },
];
function locStart(node) {
    const location = node.loc ? node.loc : node.location;
    return location.startIndex;
}
function locEnd(node) {
    const location = node.loc ? node.loc : node.location;
    return location.endIndex;
}
exports.parsers = {
    apex: {
        astFormat: "apex",
        parse: parser_1.default,
        locStart,
        locEnd,
        hasPragma: pragma_1.hasPragma,
        preprocess: (text) => text.trim(),
    },
    "apex-anonymous": {
        astFormat: "apex",
        parse: parser_1.default,
        locStart,
        locEnd,
        hasPragma: pragma_1.hasPragma,
        preprocess: (text) => text.trim(),
    },
};
exports.printers = {
    apex: {
        print: printer_1.default,
        massageAstNode: util_1.massageAstNode,
        hasPrettierIgnore: comments_1.hasPrettierIgnore,
        insertPragma: pragma_1.insertPragma,
        isBlockComment: comments_1.isBlockComment,
        canAttachComment: comments_1.canAttachComment,
        printComment: comments_1.printComment,
        willPrintOwnComments: comments_1.willPrintOwnComments,
        handleComments: {
            ownLine: comments_1.handleOwnLineComment,
            endOfLine: comments_1.handleEndOfLineComment,
            remaining: comments_1.handleRemainingComment,
        },
    },
};
const CATEGORY_APEX = "apex";
exports.options = {
    apexStandaloneParser: {
        type: "choice",
        category: CATEGORY_APEX,
        default: "none",
        choices: [
            {
                value: "none",
                description: "Do not use a standalone parser",
            },
            {
                value: "built-in",
                description: "Use the built in HTTP standalone parser",
            },
        ],
        description: "Use a standalone process to speed up parsing. This process needs to be started and stopped separately from the Prettier process",
    },
    apexStandaloneHost: {
        type: "string",
        category: "Global",
        default: "localhost",
        description: "The standalone server host to connect to. Only applicable if apexStandaloneParser is true. Default to localhost.",
    },
    apexStandalonePort: {
        type: "int",
        category: CATEGORY_APEX,
        default: 2117,
        description: "The standalone server port to connect to. Only applicable if apexStandaloneParser is true. Default to 2117.",
    },
    apexInsertFinalNewline: {
        type: "boolean",
        category: CATEGORY_APEX,
        default: true,
        description: "Whether to insert one newline as the last thing in the output. Default to true.",
    },
};
exports.defaultOptions = {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUEseUNBU29CO0FBQ3BCLHNEQUE2QjtBQUM3QixxQ0FBbUQ7QUFDbkQsd0RBQWdDO0FBQ2hDLGlDQUF3QztBQUUzQixRQUFBLFNBQVMsR0FBRztJQUN2QjtRQUNFLElBQUksRUFBRSxNQUFNO1FBQ1osT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDO1FBQ2pCLFVBQVUsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUM7UUFDaEMsa0JBQWtCLEVBQUUsRUFBRTtRQUN0QixpQkFBaUIsRUFBRSxDQUFDLE1BQU0sQ0FBQztLQUM1QjtJQUNEO1FBQ0UsSUFBSSxFQUFFLGdCQUFnQjtRQUN0QixPQUFPLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQztRQUMzQixVQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUM7UUFDckIsa0JBQWtCLEVBQUUsRUFBRTtRQUN0QixpQkFBaUIsRUFBRSxDQUFDLFdBQVcsQ0FBQztLQUNqQztDQUNGLENBQUM7QUFPRixTQUFTLFFBQVEsQ0FBQyxJQUFlO0lBQy9CLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDckQsT0FBTyxRQUFRLENBQUMsVUFBVSxDQUFDO0FBQzdCLENBQUM7QUFFRCxTQUFTLE1BQU0sQ0FBQyxJQUFlO0lBQzdCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDckQsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzNCLENBQUM7QUFFWSxRQUFBLE9BQU8sR0FBRztJQUNyQixJQUFJLEVBQUU7UUFDSixTQUFTLEVBQUUsTUFBTTtRQUNqQixLQUFLLEVBQUwsZ0JBQUs7UUFDTCxRQUFRO1FBQ1IsTUFBTTtRQUNOLFNBQVMsRUFBVCxrQkFBUztRQUNULFVBQVUsRUFBRSxDQUFDLElBQVksRUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtLQUNsRDtJQUNELGdCQUFnQixFQUFFO1FBQ2hCLFNBQVMsRUFBRSxNQUFNO1FBQ2pCLEtBQUssRUFBTCxnQkFBSztRQUNMLFFBQVE7UUFDUixNQUFNO1FBQ04sU0FBUyxFQUFULGtCQUFTO1FBQ1QsVUFBVSxFQUFFLENBQUMsSUFBWSxFQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO0tBQ2xEO0NBQ0YsQ0FBQztBQUVXLFFBQUEsUUFBUSxHQUFHO0lBQ3RCLElBQUksRUFBRTtRQUNKLEtBQUssRUFBRSxpQkFBTztRQUNkLGNBQWMsRUFBZCxxQkFBYztRQUNkLGlCQUFpQixFQUFqQiw0QkFBaUI7UUFDakIsWUFBWSxFQUFaLHFCQUFZO1FBQ1osY0FBYyxFQUFkLHlCQUFjO1FBQ2QsZ0JBQWdCLEVBQWhCLDJCQUFnQjtRQUNoQixZQUFZLEVBQVosdUJBQVk7UUFDWixvQkFBb0IsRUFBcEIsK0JBQW9CO1FBQ3BCLGNBQWMsRUFBRTtZQUNkLE9BQU8sRUFBRSwrQkFBb0I7WUFDN0IsU0FBUyxFQUFFLGlDQUFzQjtZQUNqQyxTQUFTLEVBQUUsaUNBQXNCO1NBQ2xDO0tBQ0Y7Q0FDRixDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDO0FBRWhCLFFBQUEsT0FBTyxHQUFHO0lBQ3JCLG9CQUFvQixFQUFFO1FBQ3BCLElBQUksRUFBRSxRQUFRO1FBQ2QsUUFBUSxFQUFFLGFBQWE7UUFDdkIsT0FBTyxFQUFFLE1BQU07UUFDZixPQUFPLEVBQUU7WUFDUDtnQkFDRSxLQUFLLEVBQUUsTUFBTTtnQkFDYixXQUFXLEVBQUUsZ0NBQWdDO2FBQzlDO1lBQ0Q7Z0JBQ0UsS0FBSyxFQUFFLFVBQVU7Z0JBQ2pCLFdBQVcsRUFBRSx5Q0FBeUM7YUFDdkQ7U0FDRjtRQUNELFdBQVcsRUFDVCxpSUFBaUk7S0FDcEk7SUFDRCxrQkFBa0IsRUFBRTtRQUNsQixJQUFJLEVBQUUsUUFBUTtRQUNkLFFBQVEsRUFBRSxRQUFRO1FBQ2xCLE9BQU8sRUFBRSxXQUFXO1FBQ3BCLFdBQVcsRUFDVCxrSEFBa0g7S0FDckg7SUFDRCxrQkFBa0IsRUFBRTtRQUNsQixJQUFJLEVBQUUsS0FBSztRQUNYLFFBQVEsRUFBRSxhQUFhO1FBQ3ZCLE9BQU8sRUFBRSxJQUFJO1FBQ2IsV0FBVyxFQUNULDZHQUE2RztLQUNoSDtJQUNELHNCQUFzQixFQUFFO1FBQ3RCLElBQUksRUFBRSxTQUFTO1FBQ2YsUUFBUSxFQUFFLGFBQWE7UUFDdkIsT0FBTyxFQUFFLElBQUk7UUFDYixXQUFXLEVBQ1QsaUZBQWlGO0tBQ3BGO0NBQ0YsQ0FBQztBQUVXLFFBQUEsY0FBYyxHQUFHLEVBQUUsQ0FBQyJ9